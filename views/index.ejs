<!DOCTYPE html>
<html lang="fr" class="<%= theme.darkMode ? "dark-theme" : "" %>">
	<head>
		<%- include("includes/headContent") %>
		<link rel="stylesheet" href="/messages.css" />
	</head>
	<body>
		<%- include("includes/navbar") %>
		<h1><%= title %></h1>
		<%- include("includes/spacer", { size: "sm" }) %>
		<h2>
			<% switch (messages.length) {
				case 0:
					%>Vous n'avez aucun message<%
					break
				case 1:
					%>Vous avez un message&nbsp;:<%
					break
				default:
					%>Vous avez <%= messages.length %> messages&nbsp;:<%
			} %>
		</h2>
		<%- include("includes/spacer") %>
		<section class="messages">
			<% for (const [index, message] of messages.entries()) { %>
				<a class="message" href="/messages/<%= index + 1 %>">
				<p class="name">Envoyé par <strong><%= message.name %></strong></p>
				<p class="date">
					le <strong><%= displayDate(message.added) %></strong> à
					<strong><%= displayHour(message.added) %></strong>
				</p>
				<p class="text"><%= message.text %></p>
			</a>
			<% } %>
			<a class="message new" href="/new">
				<p class="text">Nouveau<br/>message</p>
			</a>
		</section>
		<%- include("includes/scripts") %>
	</body>
</html>
